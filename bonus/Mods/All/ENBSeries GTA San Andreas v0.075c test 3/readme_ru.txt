//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//ENBSeries - набор модификаций для улучшения графики в играх. Проект donateware.
//Описание может не совпадать с содержимым на сайте
//created by Boris Vorontsov http://enbdev.com
//Donateware, freeware, не opensource и не для продажи
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++



Для игры GTA San Andreas v0.075c reflective bump test 3.

В этой версии добавлены контроллируемые параметры для рефлективного бампа.


ВНИМАНИЕ! Исправление артефактов с цветом некоторых объектов, проверяйте.
По версии 0.075c: Эта тестовая версия первой разновидности рефлективного бампа, предназначенная
только для ознакомления. Для настройки параметров нажмите shift+enter в любое время, чтоб
отобразить значения констант, менять которые можно клавишами от 1 до 6 в сочетании с
PageUp или PageDown. Поскольку эту версию просто выложил чтоб не томить пользователей
ожиданием, она не отображает конечный результат работы данного эффекта.




//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Более подробное описание доступно на сайте программы.

СИСТЕМНЫЕ ТРЕБОВАНИЯ:
Видеокарта с поддержкой Shader Model 2.0 и выше. Потенциально это видеокарты:
GeForce 6100, 6150, 6200, 6600, 6800, 7300, 7600, 7800, 7900, 8500, 8600, 8800;
Radeon 9500, 9550, 9600, 9700, 9800, 300, 600, 700, 800, 850, 1300, 1600, 1650, 1800, 1900, 1950, 2400, 2600, 2900, 3850, 3870.
Не гарантируется работа на перечисленных видеокартах или их модификациях по множеству причин, разные версии драйверов, аппаратные урезки и просто потому что не тестировал. Мод может работать неправильно или вовсе не запуститься, если видеокарта или драйвер не поддерживают минимально необходимые возможности. Видеокарты нового поколения (с поддержкой DirectX10) гораздо быстрее работают с модом, чем их скоростные аналоги под DirectX9. Требования к объему видеопамяти очень высоки, зависят от разрешения экрана и антиалиазинга, так например без антиалиазинга в режиме 1024*768 необходимо 64 Мб свободной видеопамяти, а для 1280*1024 уже 106 Мб. Объем оперативной памяти и скорость процессора играют незначительную роль, хотя все должно быть сбалансировано.
 

СОВМЕСТИМОСТЬ ИГР:
Мод может работать неправильно с некоторыми версиями игр, потому что почти невозможно протестировать все возможные варианты. Также некоторые разновидности уже установленных модов в игре могут быть несовместимы с ENBSeries. Программы трейнеры или мультиплееры могут препятствовать правильной работе мода и наоборот (определяется экспериментально).

УСТАНОВКА:
Извлечь файлы из архива в папку игры, либо туда, где находится exe файл игры
(например папки system, bin, bin32). Для некоторых игр может понадобится
дублирование копий мода как в папке игры, так и в папку с экзешником.

ЗАПУСК:
После запуска игры мод деактивирован, включается комбинацией
клавиш (по умолчанию SHIFT F12).

НАСТРОЙКА:
После первого запуска игры с модом будет создан файл с настройками мода ENBSERIES.INI,
который можно вручную отредактировать.

ОПИСАНИЕ НАСТРОЕК (часть настроек могут быть изменены или дополнены):

[PROXY]
EnableProxyLibrary=(0,1) использование подгрузки посторонней библиотеки модом при запуске игры. Помогает решить проблему нескольких d3d9.dll файлов.
InitProxyFunctions=(0,1) при загрузке посторонней библиотеки подключаться к ее функциям.
ProxyLibrary=(filename) имя файла сторонней библиотеки.

[GLOBAL]
UseEffect=(0,1) активирует мод при запуске игры вместо переключения клавишами. В зависимости от игры элементы интерфейса или видеоролики могут быть визуально испорчены, но в некоторых случаях может понадобиться.
AlternativeDepth=(0,1) позволяет повысить скорость работы некоторых эффектов, но не все видеокарты поддерживают эту возможность, если на объектах видны широкие линии, деактивируйте этот режим.
AllowAntialias=(0,1) позволяет использовать для рендеринга эффектов настройки антиалиазинга игры (antialiasing, multisampling, fsaa, полноэкранное сглаживание, другими словами).
BugFixMode=(0..5) каждое значение предназначено для обхода несовместимостей и ошибок. Значения от 0 до 5 это форматы HDR текстур, используемых в эффектах, что сказывается на скорости и качестве. Для драйверов forceware 169.xxx и 171.xx не рекомендуется выставлять параметр 1 из-за критической ошибки по работе с R32F текстурами. Значения: 0 (R32G32F)-качество и средняя скорость, 1 (R32F)-качество и высокая скорость, 2 (A32R32G32B32F)-качество и низкая скорость, 3 (R16F)-низкое качество и наибольшая скорость, 4 (R16G16F)-низкое качество и высокая скорость, 5 (A16R16G16B16F)-низкое качество и средняя скорость.
SkipShaderOptimization=(0,1) отключает оптимизацию шейдера при компилировании, что в некоторых случаях помогает избежать ошибок и артефактов.

[EFFECT]
EnableBloom=(0,1) включение эффекта bloom (размытие ярких областей).
EnableOcclusion=(0,1) включение screen space ambient occlusion (взаимное затенение близких объектов).
EnableReflection=(0,1) отражение у транспорта.
EnableMotionBlur=(0,1) размытие изображения в движении. Временно отключено.
EnableWater=(0,1) эффекты на воде.
EnableShadow=(0,1) эффекты теней.
DepthBias=(0..1000) для рендеринга глубины сцены сдвиг геометрии относительно оригинальной в сторону камеры, необходимо для некоторых видеокарт и драйверов. Если окклюзии пропадают, скорее всего 100 будет достаточно.

[INPUT]
KeyUseEffect=(1..255) номер клавиши, активирующей мод (в десятичной системе).
KeyBloom=(1..255) номер клавиши, активирующей bloom (в десятичной системе).
KeyOcclusion=(1..255) номер клавиши, активирующей ssao (в десятичной системе).
KeyReflection=(1..255) номер клавиши, активирующей отражения (в десятичной системе).
KeyCombination=(1..255) номер дополнительной клавиши для комбинации при нажатии
(по умолчанию SHIFT).
KeyShadow=(1..255) номер клавиши, активирующей тени (в десятичной системе).
KeyWater=(1..255) номер клавиши, активирующей водные эффекты (в десятичной системе).

[REFLECTION]
ReflectionPower=(0..100) уровень отражения автомобилей.
ChromePower=(0..100) уровень отражения стальных частей автомобилей. Временно отключен.
UseCurrentFrameReflection=(0,1) использование изображения на экране из текущего кадра в качестве отражения, при значении 0 используется предыдущий кадр.
ReflectionQuality=(0..2) качество отражения, 0 это максимальное качество и наименьшая скорость.
ReflectionSourceSpecular=(0..100) процент использования для отражений цвета specular материала автомобилей. Некоторые детали могут оказаться отражающими.
ReflectionSourceTFactor=(0..100) процент использования для отражений texture factor параметра, контроллирующего уровень отражений в игре. Некоторые детали на некорректно смоделированных машинах могут быть отражающими и наоборот.
UseAdditiveReflection=(0,1) отражения будут арифметически добавляться к цвету машин на экране. В противном случае более мягкое смешивание.
ReflectionDepthBias=(0..1000) сдвиг геометрии отражения относительно оригинальной машины в сторону камеры, необходимо для некоторых видеокарт и драйверов. Если отражение мерцает или пропадает, скорее всего 100 будет достаточно.
UseLowResReflection=(0,1) в качестве отражения будет использоваться текстура уменьшенного размера с размытием, это позволяет добиться матового отражения.

[BLOOM]
BloomPowerDay=(0..100) мощность блума в дневное время, зависимая от яркости экрана.
BloomFadeTime=(0..100000) время адаптации блума к смене яркости экрана в миллисекундах.
BloomConstantDay=(0..100) мощность блума в дневное время, независимая от времени между сменой яркости и адаптации к блуму.
BloomQuality=(0..2) качество блума, 0 это максимальное качество.
BloomScreenLevelDay=(0..100) уровень средней яркости экрана в процентах, воспринимаемой как дневное время.
BloomCurveDay=(-10..10) коррекция гаммы для блума днем. Отрицательные значения увеличивают яркость полутонов (затуманеное изображение), положительные уменьшают (насыщенное, интенсивое изображение).
BloomPowerNight=(0..100) мощность блума в ночное время, зависимая от яркости экрана.
BloomConstantNight=(0..100) мощность блума в ночное время, независимая от времени между сменой яркости и адаптации к блуму.
BloomCurveNight=(-10..10) коррекция гаммы для блума ночью. Отрицательные значения увеличивают яркость полутонов (затуманеное изображение), положительные уменьшают (насыщенное, интенсивое изображение).
BloomScreenLevelNight=(0..100) уровень средней яркости экрана в процентах, воспринимаемой как ночное время.
BloomAdaptationScreenLevel=(0..100) уровень средней яркости экрана в процентах, свыше которого блум деактивируется. Желательно чтоб данный параметр был больше чем BloomScreenLevelDay.
BloomAdaptationMultiplier=(0..100) процент от дневной яркости блума, который будет использован при превышении яркости экрана значения BloomAdaptationScreenLevel. При значении 100 адаптация к блуму отключается.
BloomAllowOversaturation=(0,1) если значение 0, блум мягко накладывается на изображение без чрезмерного перенасыщения в ярких местах, при значении 1 яркие области перенасыщаяются и становятся неинформативными.

[SSAO]
UseFilter=(0,1) включение фильтрации ambient occlusion для снижения видимости мелкого шума,
производимого эффектом.
OcclusionQuality=(0..2) качество ssao, 0 означает максимальное качество и низкую производительность. В текущей версии параметр отключен и используется самое низкое качество.
FilterQuality=(0..2) качество фильтрации шума, производимого алгоритмом ambient occlusion,
0 означает максимальное качество и низкую производительность.
DarkeningLevel=(0..100) уровень затенения щелей от ambient occlusion
BrighteningLevel=(0..100) уровень осветления ребер от ambient occlusion
IlluminationLevel=(0..100) уровень освещения indirect lightning
AdditiveIlluminationLevel=(0..100) уровень освещения темных областей indirect lightning
UseAmbientOcclusion=(0,1) вычислять ли взаимное затенение объектов (на текущий момент не используется).
UseIndirectLightning=(0,1) вычислять ненаправленное освещение (сказывается на производительности).

[COLORCORRECTION]
DarkeningAmountDay=(-100..100) уровень затенения или осветления темных областей экрана днем. Отрицательные значения осветляют, положительные затемняют.
ScreenLevelDay=(0..100) уровень средней яркости экрана в процентах, воспринимаемой как дневное время.
ScreenLevelNight=(0..100) уровень средней яркости экрана в процентах, воспринимаемой как ночное время.
DarkeningAmountNight=(-100..100) уровень затенения или осветления темных областей экрана ночью. Отрицательные значения осветляют, положительные затемняют. Рекомендуется положительные значения, для более естественного вида ночи.
GammaCurveDay=(-10..10) коррекция гаммы днем. Отрицательные значения увеличивают яркость полутонов (бледное изображение), положительные уменьшают (насыщенное, интенсивое изображение).
GammaCurveNight=(-10..10) коррекция гаммы ночью. Отрицательные значения увеличивают яркость полутонов (бледное изображение), положительные уменьшают (насыщенное, интенсивое изображение).

[PLUGIN]
WeatherMod=(0,1) активирует коррекцию цветов при установленном моде Weather Mod, которую выбрал его автор. Временно отключено.

[WATER]
UseWaterDeep=(0,1) использование плавного перехода между разными глубинами воды, переходящими в цвет.
WaterDeepness=(0..1000) фактор полупрозрачности воды при разных глубинах.
WaterQuality=(0..2) качество воды, 0 - максимальное качество.

[SHADOW]
ShadowFadeStart=(0..1000) расстояние, с которого тень начинает исчезать.
ShadowFadeEnd=(0..1000) расстояние, на котором тень полностью отключается.
ShadowAmountDay=(0..100) процент яркости теней в дневное время.
ShadowAmountNight=(0..100) процент яркости теней в ночное время.
ShadowScreenLevelDay=(0..100) уровень средней яркости экрана в процентах, воспринимаемой как дневное время.
ShadowScreenLevelNight=(0..100) уровень средней яркости экрана в процентах, воспринимаемой как ночное время.
ShadowQuality=(0..2) качество теней. 0 - максимальное качество.
UseShadowFilter=(0,1) использование фильтрации теней
FilterQuality=(0..2) качество фильтрации теней. 0 - максимальное качество.

[ENGINE]
ForceAnisotropicFiltering=(0,1) принудительное включение анизотропийной фильтрации всех текстур игры.
MaxAnisotropy=(1..16) максимальный уровень анизотропии, чем значение выше, тем более резкие текстуры.
ForceDisplayRefreshRate=(0,1) принудительное использование частоты развертки монитора.
DisplayRefreshRateHz=(60..240) частота развертки монитора. Внимание, неправильное использование данного параметра может привести к поломке монитора или другого устройства отображения!

[MOTIONBLUR]
MotionBlurQuality=(0..2) качество сэмплирования, 0-максимальное качество
MotionBlurVelocity=(0..100) фактор длинны вектора направления движения вперед
MotionBlurRotation=(0..100) фактор движения в сторону и разворота, рекомендуется такое же значение, что и MotionBlurVelocity


Номера клавиш (virtual key codes) находятся в файле key_codes.txt или key_codes.htm, они в
шестнадцатиричном виде, а у меня в настройках в десятичном, для преобразования
можно воспользоваться любым hex калькулятором, можно и обычным из Windows.

РЕШЕНИЕ ПРОБЛЕМ:
Q: Установил мод, не вижу никакой разницы.
A: После запуска игры мод деактивирован, включается комбинацией клавиш (по умолчанию SHIFT F12).
Q: Включаю мод, а экран черный (точнее объекты вблизи камеры).
A: Видеокарта не поддерживает антиалиазинг HDR текстур, отключайте антиалиазинг в игре или панели драйверов видеокарты. В качестве дополнения можно попробовать изменить параметры AllowAntialias=0, BugFixMode=1 или 5, AlternativeDepth=0 в любой их комбинации, которая сработает, либо отключить окклюзии EnableOcclusion=0..
Q: Зависает компьютер при активации мода.
A: Возможно у Вас драйверы слишком новые и не отлаженные, либо слишком старые, например forceware 169.xx и выше (171.xx последние из тестированных) неправильно работают с некоторыми текстурами, используйте более старые версии, проверенные и отлаженные (162.xx, 163.xx). Также попробуйте изменить настройки BugFixMode и отключить окклюзии EnableOcclusion=0.
Q: Отражение у машин пропадает местами, проходя сквозь грани моделей и мерцая.
A: На некоторых видеокартах необходимо выставить опытным путем значение ReflectionDepthBias, чтоб геометрия с отражением была поверх автомобиля. Обнаружена эта проблема на Radeon 2xxx.
Q: Издали видно интерьер автомобиля и колеса сквозь корпус.
A: Значение ReflectionDepthBias выставлено слишком большим, либо оно не требуется для Вашей видеокарты.
Q: У меня интегрированная видеокарта, не запускается или глючит.
A: Возможно объем выделенной памяти для видео слишком мал при выбранном Вами разрешении экрана. Уменьшите разрешение экрана, либо в настройках биоса увеличьте объем выделяемой видеопамяти (обычно значения от 16 до 128 Мб).
Q: В высоких разрешениях экрана или при антиалиазинге не работает или глючит.
A: Недостаточно видеопамяти.



PERFORMANCE TIPS:
Не используйте слишком высокое разрешение дисплея при активированном эффекте ambient occlusion, потому что он напрямую зависит от количества пикселей на экране.
Устанавливая значения UseWaterDeep=0, UseOcclusions=0, ShadowQuality=2, сцена не рендерируется в буфер глубины и производительность существенно увеличивается.
Отражения с некоторыми импортированными моделями авто могут работать крайне медленно из-за количества полигонов. На текущий момент для создания отражений геометрия машин отрисовывается дважды, ждите следующих версий с решением данной проблемы.
Блум почти не сказывается на скорости игры, используйте его свободно.
Любой вид фильтрации, для теней или ambient occlusions очень медленный алгоритм, если вас не устраивает скорость, попробуйте установить качество фильтрации 2, возможно подойдет.
OcclusionQuality=0 устанавливайте в крайнем случае, так как это наиболее серьезно отразится на скорости. При значении данного параметра 0 можно качество фильтрации поставить хуже, например 1 или 2.



//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
DONATE:
Если по Вашему мнению проект ENBSeries должен развиваться или просто Вам понравилось, буду признателен за спонсорскую помощь.
По дополнительным вопросам обращаться boris-vorontsov@yandex.ru

 


http://enbdev.com
Copyright (c) 2007-2011 Воронцов Борис (ENB developer)
